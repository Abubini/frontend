<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CLASSES & PROGRAMS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="classes.css">
    <link rel="icon" href="logo_top.png" type="image/png" sizes="16x16">
    <style>
        .chapaform{
            display:flex;
            flex-direction:column;
            width: 50%;
            justify-content:center;
            align-items:center;
            }
            #chapa-form {
            display:flex;
            flex-direction:column;
            align-items:center;
            gap: 7px;
            width:100%;


        }
        #chapa-form input{
            width:50%;
            height: 3em;
            background-color: rgba(29, 29, 28, 0.3);
            border: none;
            color:white;

            }
            #chapa-form input:hover{
                border: 1px solid white;
                }
            input::placeholder{
	color:white;
	}
          #big{

            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            color:white;

            }
            .enroll-button{
                width:25em;
                height:2em;
                background-color: rgba(79, 79, 78, 0.3);
                color:white;
                }


        .goldchapaform{
            display:none;
            }
    </style>
</head>
<body>


    <header>
        <div class="logo">
            <a href="index.html"><img src="logo_new.png" alt="company logo"></a>
        </div>
        <div class="navs">
            <div class="navigation">
                <a href="index.html">HOME</a>
                <a href="memberships.html">MEMBERSHIP</a>
                <a href="classtest.html">CLASSES & PROGRAMS</a>
                <a href="blogs.html">BLOG</a>
                <a href="about.html">ABOUT US</a>

            </div>
            <div class="nav-container">
       <button class="open-btn" onclick="openNav()">☰</button>
        <nav id="mySidebar" class="sidebar">
                <a href="javascript:void(0)" class="close-btn" onclick="closeNav()">×</a>
                <a href="index.html">HOME</a>
                <a href="memberships.html">MEMBERSHIP</a>
                <a href="classtest.html">CLASSES & PROGRAMS</a>
                <a href="blogs.html">BLOG</a>
                <a href="about.html">ABOUT US</a>
            </nav>
            </div>
            <div class="profile" onclick="personalPage()">
                <img src="profile-image.png" alt="" class="profile-image">
            </div>
        </div>
    </header>


    <main>
        <section class="main" id="main">

                        <div class="class">
                <img src="yoga.jpeg" alt="">
              <div class="class-detail">
                <h2 class="class-title">yoga</h2>
                <p class="class-description">Experience a holistic approach to fitness with our Yoga classes, focusing on physical postures, breath control, and meditation for overall well-being. Led by experienced instructors, each class enhances flexibility, strength, balance, and mental clarity. Suitable for all levels, sessions offer tailored modifications. Join us
                  </p>

                <ul class="schedule">
                  <li>Monday 6:00 PM - 7:00 PM</li>
                  <li>Thursday 12:00 PM - 1:00 PM</li>
                  <li>Saturday 10:30 AM - 11:30 AM</li>

              </ul>
                 <p class="class-description">
              Drop-in rate: <b class="birr">1500</b> birr/month.

            </p>
            <button class="card-button" id="yoga" onclick="yoga()">join class</button>
              </div>
            </div>


            <div class="class">
                <img src="boxing.jpeg" alt="">
              <div class="class-detail">
                <h2 class="class-title">boxing</h2>
                <p class="class-description">Tap into your inner fighter with our dynamic Boxing classes, led by experienced trainers. Combining boxing techniques with cardio and strength training, these high-energy sessions empower you to build endurance and confidence. Suitable for all levels, join us to unleash your potential and enhance agility.
                  </p>

                <ul class="schedule">
                  <li>Monday: 5:30 PM - 6:30 PM</li>
                  <li>Wednesday: 6:00 PM - 7:00 PM</li>
                  <li>Friday: 7:00 AM - 8:00 AM</li>
              </ul>
                 <p class="class-description">
              Drop-in rate: <b class="birr">2000</b> birr/month.

            </p>
            <button class="card-button" id="boxing" onclick="boxing()">join class</button>
              </div>
            </div>

            <div class="class">
                <img src="aerobics.jpeg" alt="">
              <div class="class-detail">
                <h2 class="class-title">aerobics</h2>
                <p class="class-description">Revitalize your fitness in our Aerobics classes, combining cardio, dance, and strength exercises for a full-body workout. Led by energetic instructors, these sessions cater to all levels, enhancing stamina and coordination. Join us for invigorating sessions:
                  </p>

                <ul class="schedule">
                  <li>Tuesday: 6:30 PM - 7:30 PM</li>
                  <li>Thursday: 7:00 AM - 8:00 AM</li>
                  <li>Saturday: 10:00 AM - 11:00 AM</li>
              </ul>
                 <p class="class-description">
              Drop-in rate: <b class="birr">1500</b> birr/month.

            </p>
            <button class="card-button" id="aerobics" onclick="aerobics()">join class</button>
              </div>
            </div>

            <div class="class">
                <img src="karate1.jpeg" alt="">
              <div class="class-detail">
                <h2 class="class-title">karate class</h2>
                <p class="class-description">Embark on a journey of strength and discipline with our Karate classes, led by skilled instructors. Learn traditional martial arts techniques and forms in sessions tailored to all ages and skill levels. Join us for empowering sessions:
                  </p>

                <ul class="schedule">
                  <li>Monday: 6:00 PM - 7:00 PM</li>
                  <li>Wednesday: 5:30 PM - 6:30 PM</li>
                  <li>Saturday: 9:00 AM - 10:00 AM</li>
              </ul>
                 <p class="class-description">
              Drop-in rate: <b class="birr">2000</b> birr/month.

            </p>
            <button class="card-button" id="karate" onclick="karate()">join class</button>
              </div>
            </div>

            <div class="class">
                <img src="aqua.jpeg" alt="">
              <div class="class-detail">
                <h2 class="class-title">aqua cardio</h2>
                <p class="class-description">Dive into fitness with our Aqua Aerobics classes, where the water adds resistance and support for a low-impact, high-energy workout. Led by experienced instructors, these sessions improve cardiovascular health, strength, and flexibility. Suitable for all ages and fitness levels, join us for a refreshing and invigorating experience.
                  </p>

                <ul class="schedule">
                  <li>Tuesday: 10:00 AM - 11:00 AM</li>
                  <li>Thursday: 6:00 PM - 7:00 PM</li>
                  <li>Saturday: 11:30 AM - 12:30 PM</li>
              </ul>
                 <p class="class-description">
              Drop-in rate: <b class="birr" >1500</b> birr/month.

            </p>
            <button class="card-button" id="aqua" onclick="aqua()">join class</button>
              </div>
            </div>

            <div class="class">
                <img src="kickboxing.jpeg" alt="">
              <div class="class-detail">
                <h2 class="class-title">kickboxing</h2>
                <p class="class-description">Get ready to kick it up a notch in our high-octane Kickboxing classes, where punches, kicks, and cardio drills fuse for an intense workout. Led by expert trainers, these sessions boost strength, agility, and confidence. Suitable for all levels, join us for an empowering experience that leaves you invigorated.
                  </p>

                <ul class="schedule">
                  <li>Monday: 7:00 PM - 8:00 PM</li>
                  <li>Wednesday: 6:30 PM - 7:30 PM</li>
                  <li>Saturday: 10:00 AM - 11:00 AM</li>
              </ul>
                 <p class="class-description">
              Drop-in rate: <b class="birr" >2000</b> birr/month.

            </p>
            <button class="card-button" id="kickboxing" onclick="joinclass('kickboxing')">join class</button>
              </div>
            </div>



        </section>
         <div id="big">
             <div class="goldchapaform chapaform" id="chapaForm">
                <h1 class="plan">Your Chapa Payment Credentials</h1><br><br>
                <p class="little-description" >Please enter your Chapa payment credentials below. While it is not mandatory to provide your first name, last name, and phone number, we highly recommend including all these details to ensure a smooth and secure transaction. If you don't already have a Chapa account, you can create one by clicking the link below.</p>
                 <br>
                <form id="chapa-form">
                    <input type="text" class="long" name="first_name" id="first_name" autocomplete="complete" placeholder="First name" >
                    <input type="text" class="long" name="last_name" id="last_name" autocomplete="complete" placeholder="Last name" >
                    <input type="email" class="long" name="cemail" id="cemail" autocomplete="complete" placeholder="Email" required>
                     <input type="text" class="long" name="phone_number" id="phone_number" autocomplete="complete" placeholder="Phone number">
                    <input type="text" class="long" name="tx_ref" id="tx_ref" autocomplete="complete" placeholder="Your payment reference" required>
                    <p id="message"></p>
                    <button class="enroll-button" type="submit">Pay</button>

                </form>
                 <p>if you don't have a chapa account <a href="https://dashboard.chapa.co/register" target="_blank" style="color:white;">create one here</a></p>

                </div>
                </div>


    </main>


    <footer>
        <div class="upper">
                <div class="social">
                    <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook"></i></a>
                    <a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="https://youtube.com" target="_blank"><i class="fab fa-youtube"></i></a>
                    <a href="https://tiktok.com" target="_blank"><i class="fab fa-tiktok"></i></a>
                    <a href="tel:+1234567890" title="Call Us"><i class="fas fa-phone"></i></a>
                    <a href="mailto:contact@example.com" title="Email Us"><i class="fas fa-envelope"></i></a>
                </div>

                <div class="rate-us">
                    <div class="rating">
                        <span onclick="gfg(1)" class="star">★</span>
                        <span onclick="gfg(2)" class="star">★</span>
                        <span onclick="gfg(3)" class="star">★</span>
                        <span onclick="gfg(4)" class="star">★</span>
                        <span onclick="gfg(5)" class="star">★</span>
                    </div>
                    <h3 id="output">Rating is: 0/5</h3>
                </div>
                </div>
            <div class="image-container">
                <a href="https://maps.app.goo.gl/tLcQf5AJhzvTwART6" target="_blank">
                    <img src="gym-map.png" alt="Placeholder Image" class="image" />
                </a>
            </div>






            <div class="footer-text">
                <p>&copy 2024 Yared Kiros, Biniam , Estifanos , Simon ,Yeabsira Addis, All Rights Reserved | AAU SITE </p>
            </div>
    </footer>
    <script>
            function openNav() {
        document.getElementById("mySidebar").style.width = "250px";
    }

    function closeNav() {
        document.getElementById("mySidebar").style.width = "0";
    }
        function personalPage() {
            window.location.href = 'personal.html';
        }
        const stars = document.getElementsByClassName("star");
        const output = document.getElementById("output");

        function gfg(n) {

            remove();

            for (let i = 0; i < n; i++) {
                let cls = ["one", "two", "three", "four", "five"][n - 1];
                stars[i].className = "star " + cls;
            }

            output.innerText = "Rating is: " + n + "/5";
        }

        function remove() {
            for (let i = 0; i < 5; i++) {
                stars[i].className = "star";
            }
        }

        async function joinclass(classname) {
    const token = sessionStorage.getItem('token');
    if (!token) {
        window.location.href = 'login.html';
        return;
    }

    try {
        const response1 = await fetch('https://vigorgym.onrender.com/users/account', {
            method: 'GET',
            headers: {
                'Authorization': `Bearer ${token}`,
            },
        });

        const accountInfo = await response1.json();
        if (!accountInfo.email) {
            throw new Error('Failed to retrieve account information.');
        }
        const email = accountInfo.email;
        document.getElementById('main').classList.add('goldchapaform');
        document.getElementById('chapaForm').classList.remove('goldchapaform');

        const registrationForm = document.getElementById('chapa-form');

        registrationForm.addEventListener('submit', async function(e) {
            e.preventDefault();

            const cemail = document.getElementById('cemail').value;
            const first_name = document.getElementById('first_name').value;
            const last_name = document.getElementById('last_name').value;
            const phone_number = document.getElementById('phone_number').value;
            const tx_ref = document.getElementById('tx_ref').value;

            try {
                const response = await fetch(`https://vigorgym.onrender.com/class/join/${email}`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email,
                        classname,
                        cemail,
                        first_name,
                        last_name,
                        phone_number,
                        tx_ref
                    }),
                });

                const data = await response.json();

                if (data.success) {
                    document.getElementById('message').innerText = 'Registration successful!';
                } else {
                    throw new Error(data.message);
                }
            } catch (error) {
                document.getElementById('message').innerText = error.message;

            }
        });
    } catch (error) {
        document.getElementById('message').innerText = error.message;
    }
}

async function yoga() {
    await joinclass('yoga');
}

async function boxing() {
    await joinclass('boxing');
}

async function aerobics() {
    await joinclass('aerobics');
}

async function karate() {
    await joinclass('karate');
}

async function aqua() {
    await joinclass('aqua');
}

async function kickboxing() {
    await joinclass('kickboxing');
}


    </script>
</body>
</html>